title: 前端性能优化总结
date: 2015-08-18 22:16:33
tags:
---
# 为甚要进行前端性能优化
>用户体验

![](http://7xl4v7.com1.z0.glb.clouddn.com/IMG_0208.jpg)

## 如何进行前端的性能优化
* 服务端
* 网络
* 客户端（主要原因）
* 服务端
* 接口按需请求
* 接口走cdn
* 静态资源缓存（移动端走离线存储）（缓存更新问题,版本号md5戳）
* 静态资源走cdn
* 网络（省着点用）
* 背景图合并
* js／css文件选择性合并，压缩
* 图片按需加载
* 图片控制
* gzip开启
* 合理使用静态资源域名
## 客户端
* 加载
* js文件尾部引入，异步加载
```
加快JavaScript装入速度的工具：Lab.js
借助LAB.js（装入和阻止JavaScript），你就可以并行装入JavaScript文件，加快总的装入过程。
此外，你还可以为需要装入的脚本设置某个顺序，那样就能确保依赖关系的完整性。此外，开发者声称其网站上的速度提升了2倍。
```
* 非核心模块异步
* 合理分配域名
## 聊天
* DOM节点数进行限制
## 视频
* 视频加载提前至合理位置
* 主动延后一部分模块加载，给视频让路
* 直接使用object，而非js输出
## 动画
* 降低礼物资源本身对资源的消耗水平
* 适当使用canvas实现礼物，代替flash
* 合理控制礼物展示与消失
## 网页内容
* 减少http请求次数
* 减少dns查询次数
* 减少页面跳转
* 缓存ajax
* 延迟加载
* 提前加载
* 减少dom元素数量
* 根据域名划分内容
* 减少iframe数量
* 避免404
## 服务器
* 使用cdn
* 添加expires或者cache-control报文tou
* gzip压缩文件
* 尽早flush输出
* 使用get ajax请求
* 避免空的图片的src
* cookies
* 减少cookie大小
* 页面内容使用无cookie域名
## css
* 将样式表置顶
* 避免css表达式
* 用link替代@import
* 避免使用filters
## javascript
* 将脚本置底
* 使用外部javascript和css
* 去除重复脚本
* 减少dom访问
* 使用智能时间处理
## 图片
* 优化图片
* 优化sprite
* 不要在html中缩放图片
* 使用小且可缓存的favicon.ico
* 移动客户端
* 保持单个内容小于25kb
* 打包组建成符合文档
## 如何证明优化成果
* 工具采集
>百度性能检测中心
>阿里测

* 命令采集
>phantom.js

* 脚本采集
>自己写脚本注入页面进行统计